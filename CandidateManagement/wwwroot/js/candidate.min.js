function random(n,t){return Math.floor(Math.random()*(t-n+1)+n)}function clearAllInput(n){n.find("input,textarea,select").val("").end().find("input[type=checkbox], input[type=radio]").prop("checked","").end()}function saveRequirement(n,t,i,r,u){var f=$(n),s=$(n).text(),e=f.children(),h=e.attr("class"),o="fas fa-spinner fa-spin",c='<i class="'+o+'"><\/i>';$.ajax({method:"POST",url:"/Home/SaveRequirementAsync?candidateId="+t+"&requirementId="+i+"&saving="+r+"&requirementDetail="+u,beforeSend:function(){e.removeClass(h).addClass(o);(s.trim()=="Delete"||s.trim()=="Xóa")&&f.html(c)},success:function(n){n.success?(f.parent().html(n.dataSaveRequirementButtonPartial),$("#saved").html(n.dataSavedRequirementPartial),toastr.success(n.message,n.title)):toastr.error(n.message,n.title)},complete:function(){e.removeClass(o).addClass(h)}})}function showBanner(n){function i(){var i,u;for(t.splice(0,t.length-1),$(".group-banner").children().hide(),i=0;i<n;i++)u=r(),$(".group-banner").children().eq(u).show()}function r(){var n=random(0,$(".group-banner").children().length-1);return $.inArray(n,t)!=-1?r():(t.push(n),n)}var t=[];i();setInterval(i,5e3)}function setInterviewEmailBodyInfo(){var r=$("input#companyName").val(),u=$("input#workPlace").val();$("span.spanCompanyName").text(r);$("span.spanWorkPlace").text(u);var t=$.datepicker.formatDate("dd-mm-yy",new Date($("input#interviewDate").val())),n=new Date($("input#interviewDate").val()).getDay()+1,i=$("input#interviewTime").val();console.log(t);console.log(n);console.log(i);$("span#spanInterviewTime").text(i);$("span#spanInterviewDayOfWeek").text(n==1?"ngày Chủ nhật":"ngày thứ "+n);$("span#spanInterviewDate").text(t)}function setInterviewEmailBody(){var n=$("select#interviewEmailTemplate").val().substring($("select#interviewEmailTemplate").val().indexOf("email-template")-1);$("#interviewMailBody").load(n,function(n,t,i){t=="success"&&setInterviewEmailBodyInfo();t=="error"&&alert("Error: "+i.status+": "+i.statusText)})}function confirmDelete(n,t){var i="deleteSpan_"+n,r="confirmDeleteSpan_"+n;t?($("#"+i).hide(),$("#"+r).show()):($("#"+i).show(),$("#"+r).hide())}function confirmDialog(){var t=confirm("Do you want to delete this?"),n;return t?(n=$(this).closest("form"),n.submit(),!1):!1}function ShowAddInterviewModal(n){$.ajax({url:"/Admin/AddInterviewSchedule?id="+n,success:function(n){$("#addInterviewModalContainer").html(n);$("#addInterviewModal").modal("show");setInterviewEmailBody()}})}function ShowEditInterviewModal(n,t){$.ajax({url:"/Admin/EditInterviewSchedule?applyDetailId="+n+"&interviewId="+t,success:function(n){$("#editInterviewModalContainer").html(n);$("#editInterviewModal").modal("show");setInterviewEmailBody()}})}function ShowMarkAbilityModal(n,t){$.ajax({url:"/Admin/MarkAbility?applyDetailId="+n+"&interviewId="+t,success:function(n){$("#markAbilityModalContainer").html(n);$("#markAbilityModal").modal("show")}})}function ShowApplyDetailCVModal(n,t){$.ajax({url:"/Admin/ShowApplyDetailCV?candidateId="+n+"&applyDetailId="+t,success:function(n){$("#applyDetailCVModalContainer").html(n);$("#applyDetailCVModal"+t).modal("show")}})}function ShowApplyRequirementDetail(n,t,i){var r=$(n),u=r.text(),f="<i class='fas fa-spinner fa-spin'><\/i>";$.ajax({url:"/Home/ApplyRequirementDetail?requirementId="+t+"&candidateId="+i,beforeSend:function(){$(".loading").show();r.append(f)},success:function(n){$("#applyRequirementDetailModalContainer").html(n);$("#applyRequirementDetailModal").modal("show")},complete:function(){$(".loading").hide();r.text(u)}})}$(document).ready(function(){toastr.options={toastClass:"toastr",progressBar:!0,timeOut:2e3};$.fn.DataTable.isDataTable(".table")||$(".table").DataTable({dom:"Bfrtip",buttons:[{extend:"copy",exportOptions:{columns:":visible"}},{extend:"csv",exportOptions:{columns:":visible"}},{extend:"print",exportOptions:{columns:":visible"}},"colvis"]});$('[id^="ability_"]').on("change",function(){var n=$(this).attr("id").substr($(this).attr("id").indexOf("_")+1),t=$(this).is(":checked");t?($("#abilityPoint_"+n).prop("disabled",!1),$("#abilityPoint_"+n).prop("required",!0)):($("#abilityPoint_"+n).prop("disabled",!0),$("#abilityPoint_"+n).prop("required",!1))});$(".custom-file-input").on("change",function(){var n=$(this).val().split("\\").pop();$(this).next(".custom-file-label").html(n)});$("input#interviewDate, input#interviewTime").on("change",function(){setInterviewEmailBodyInfo()});$("select#interviewEmailTemplate").change(function(){setInterviewEmailBody()});$("select#applyPosition").change(function(){var n=$("select#applyPosition option:selected"),t=n.attr("data-id");$.ajax({url:"/Admin/GetAbilityByApplyPosition?applyPositionId="+t,success:function(n){$("#apply-position-ability").html(n)}})});$("#addInterviewModal").on("hidden.bs.modal",function(){$("#addInterviewModal").remove()});$("#editInterviewModal").on("hidden.bs.modal",function(){$("#editInterviewModal").remove()})});success=fail=function(n){n.success?toastr.success(n.message,n.title):toastr.error(n.message,n.title)};